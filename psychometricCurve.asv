function psychometricCurve(x,y,l)

% function psychometricCurve(x,y,n)
% Inputs: x (levels)
%         y (response per trial)
%         l (actual stimulus values, string?)

conds = unique(x);
nConditions = length(unique(x));
for i = 1:nConditions
    r(i) = sum(y(x==conds(i)));
    n(i) = sum(x==conds(i));
    hr(i) = r(i)/n(i);
end

% fit the psychometric function
fit = psychometricFit(respSum(2:end),fliplr(reps(2:end)), ...
                      fliplr(params.dB));

